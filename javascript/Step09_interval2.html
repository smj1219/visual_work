<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>특정 시간을 주기로 어떤 작업을 반복하기</h1>
    <p id="one">0</p>
    <button id="startBtn">시작</button>
    <button id="cancelBtn">취소</button>
    <script>
        (function(){
            //페이지 로딩 시점에 count 변수 만드어서 초기값 0 대입
            let count=0;
            //interval 의 아이디를 담을 변수를 미리 만들어 둔다.
            let intervalId=0;
            //interva 의 상태값을 관리할 변수 만들고 초기값 부여
            let isRunning =false;
            
            
            //시작버튼을 눌렀을 때 실행할 함수등록
            document.querySelector("#startBtn").addEventListener("click",()=>{
                //만일 현재 interval 이 진행중이면
                if(isRunning){
                    return;//함수를 여기서 끝내라
                }
                isRunning =true;
                //1초 주기로 호출되는 함수 등록하기
                intervalId=setInterval(() => {
                    count++
                    document.querySelector("#one").innerText=count;
                } , 1000);
            })
        
            document.querySelector("#cancelBtn").addEventListener("click",()=>{
                clearInterval(intervalId);
                isRunning=false;
                count=0;
                document.querySelector("#one").innerText=0;
            })
        })();






        
    </script>
</body>
</html>